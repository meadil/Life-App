<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life - Time Remaining Visualizer</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        
        .font-ultralight { font-weight: 100; }
        .font-light { font-weight: 300; }
        .font-medium { font-weight: 500; }
        .tabular-nums { font-variant-numeric: tabular-nums; }
        
        .min-h-screen { min-height: 100vh; }
        .bg-white { background-color: white; }
        .text-gray-900 { color: #111827; }
        .text-gray-700 { color: #374151; }
        .text-gray-600 { color: #4b5563; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-400 { color: #9ca3af; }
        
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .text-center { text-align: center; }
        
        .w-full { width: 100%; }
        .max-w-md { max-width: 28rem; }
        .max-w-2xl { max-width: 42rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        
        .p-6 { padding: 1.5rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .px-0 { padding-left: 0; padding-right: 0; }
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mb-12 { margin-bottom: 3rem; }
        .mb-16 { margin-bottom: 4rem; }
        .pt-8 { padding-top: 2rem; }
        
        .space-y-8 > * + * { margin-top: 2rem; }
        .space-y-12 > * + * { margin-top: 3rem; }
        .space-y-16 > * + * { margin-top: 4rem; }
        
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        .text-6xl { font-size: 3.75rem; }
        
        .border-0 { border: 0; }
        .border-b { border-bottom: 1px solid; }
        .border-t { border-top: 1px solid; }
        .border-gray-100 { border-color: #f3f4f6; }
        .border-gray-200 { border-color: #e5e7eb; }
        .border-gray-300 { border-color: #d1d5db; }
        
        .rounded-full { border-radius: 9999px; }
        .bg-transparent { background-color: transparent; }
        .bg-black { background-color: black; }
        .bg-gray-300 { background-color: #d1d5db; }
        
        .cursor-not-allowed { cursor: not-allowed; }
        .transition-all { transition: all 0.3s; }
        
        .hover\:text-gray-600:hover { color: #4b5563; }
        .hover\:bg-gray-800:hover { background-color: #1f2937; }
        
        .focus\:border-black:focus { border-color: black; }
        .focus\:outline-none:focus { outline: none; }
        
        input[type="date"] {
            font-size: 1.125rem;
            font-weight: 300;
        }
        
        button {
            border: none;
            cursor: pointer;
        }
        
        .w-64 { width: 16rem; }
        .h-64 { height: 16rem; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .absolute { position: absolute; }
        .relative { position: relative; }
        .-rotate-90 { transform: rotate(-90deg); }
        
        .circle-progress {
            transition: stroke-dashoffset 1s ease-in-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const LifeTimeVisualizer = () => {
            const [currentPage, setCurrentPage] = useState('input');
            const [birthDate, setBirthDate] = useState('');
            const [timeData, setTimeData] = useState(null);

            const calculateTimeRemaining = () => {
                if (!birthDate) return null;

                const birth = new Date(birthDate);
                const now = new Date();
                const lifeExpectancy = 78;
                const expectedEnd = new Date(birth.getFullYear() + lifeExpectancy, birth.getMonth(), birth.getDate());
                
                const ageMs = now - birth;
                const remainingMs = expectedEnd - now;
                
                const msPerDay = 1000 * 60 * 60 * 24;
                const msPerYear = msPerDay * 365.25;

                const currentAge = ageMs / msPerYear;
                const lifeProgress = (currentAge / lifeExpectancy) * 100;

                if (remainingMs <= 0) {
                    return { expired: true, currentAge: currentAge };
                }

                return {
                    expired: false,
                    currentAge: currentAge,
                    lifeProgress: lifeProgress,
                    remaining: {
                        years: Math.floor(remainingMs / msPerYear),
                        days: Math.floor(remainingMs / msPerDay),
                        seconds: Math.floor(remainingMs / 1000)
                    }
                };
            };

            useEffect(() => {
                if (birthDate && currentPage === 'visualizer') {
                    const data = calculateTimeRemaining();
                    setTimeData(data);
                    
                    const interval = setInterval(() => {
                        const updatedData = calculateTimeRemaining();
                        setTimeData(updatedData);
                    }, 1000);

                    return () => clearInterval(interval);
                }
            }, [birthDate, currentPage]);

            const handleContinue = () => {
                if (birthDate) {
                    setCurrentPage('visualizer');
                }
            };

            if (currentPage === 'input') {
                return (
                    <div className="min-h-screen bg-white flex items-center justify-center p-6">
                        <div className="w-full max-w-md">
                            <div className="text-center mb-12">
                                <h1 className="text-3xl font-light text-gray-900 mb-2">
                                    Life
                                </h1>
                                <p className="text-gray-500 font-light">
                                    Time remaining visualizer
                                </p>
                            </div>

                            <div className="space-y-8">
                                <div>
                                    <label className="text-sm font-medium text-gray-700 mb-3" style={{display: 'block'}}>
                                        When were you born?
                                    </label>
                                    <input
                                        type="date"
                                        value={birthDate}
                                        onChange={(e) => setBirthDate(e.target.value)}
                                        className="w-full px-0 py-4 border-0 border-b border-gray-200 focus:border-black focus:outline-none bg-transparent"
                                        style={{fontSize: '1.125rem', fontWeight: '300'}}
                                    />
                                </div>

                                <button
                                    onClick={handleContinue}
                                    disabled={!birthDate}
                                    className={`w-full py-4 rounded-full text-white font-medium transition-all ${
                                        birthDate 
                                            ? 'bg-black hover:bg-gray-800' 
                                            : 'bg-gray-300 cursor-not-allowed'
                                    }`}
                                >
                                    Continue
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-white p-6">
                    <div className="max-w-2xl mx-auto">
                        <div className="flex items-center justify-between mb-16">
                            <button 
                                onClick={() => setCurrentPage('input')}
                                className="text-gray-400 hover:text-gray-600"
                                style={{background: 'none', border: 'none', cursor: 'pointer'}}
                            >
                                ‚Üê Back
                            </button>
                            <h1 className="text-lg font-medium text-gray-900">Life</h1>
                            <div></div>
                        </div>

                        {timeData && !timeData.expired && (
                            <div className="space-y-16">
                                {/* Progress Circle */}
                                <div className="flex flex-col items-center">
                                    <div className="relative mb-8" style={{width: '16rem', height: '16rem'}}>
                                        <svg className="w-full h-full" viewBox="0 0 100 100" style={{transform: 'rotate(-90deg)'}}>
                                            <circle
                                                cx="50"
                                                cy="50"
                                                r="45"
                                                fill="none"
                                                stroke="#f3f4f6"
                                                strokeWidth="2"
                                            />
                                            <circle
                                                cx="50"
                                                cy="50"
                                                r="45"
                                                fill="none"
                                                stroke="#000"
                                                strokeWidth="2"
                                                strokeDasharray={`${2 * Math.PI * 45}`}
                                                strokeDashoffset={`${2 * Math.PI * 45 * (1 - timeData.lifeProgress / 100)}`}
                                                className="circle-progress"
                                            />
                                        </svg>
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <div className="text-center">
                                                <div className="text-3xl font-light text-gray-900 mb-1">
                                                    {timeData.lifeProgress.toFixed(0)}%
                                                </div>
                                                <div className="text-sm text-gray-500">
                                                    lived
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* Time Remaining */}
                                <div className="space-y-12">
                                    <div className="text-center">
                                        <div className="text-6xl font-ultralight text-gray-900 mb-2">
                                            {timeData.remaining.years}
                                        </div>
                                        <div className="text-gray-500 font-light">
                                            years remaining
                                        </div>
                                    </div>

                                    <div className="text-center">
                                        <div className="text-4xl font-ultralight text-gray-700 mb-2">
                                            {timeData.remaining.days.toLocaleString()}
                                        </div>
                                        <div className="text-gray-500 font-light">
                                            days remaining
                                        </div>
                                    </div>

                                    <div className="text-center">
                                        <div className="text-2xl font-light text-gray-600 mb-2 tabular-nums">
                                            {timeData.remaining.seconds.toLocaleString()}
                                        </div>
                                        <div className="text-gray-400 font-light">
                                            seconds remaining
                                        </div>
                                    </div>
                                </div>

                                {/* Age */}
                                <div className="text-center pt-8 border-t border-gray-100">
                                    <div className="text-lg font-light text-gray-900 mb-1">
                                        You are {timeData.currentAge.toFixed(1)} years old
                                    </div>
                                    <div className="text-sm text-gray-500">
                                        Based on 78 year life expectancy
                                    </div>
                                </div>
                            </div>
                        )}

                        {timeData && timeData.expired && (
                            <div className="text-center space-y-8">
                                <div className="text-4xl font-light text-gray-900 mb-4">
                                    Beyond expectation
                                </div>
                                <div className="text-lg text-gray-600">
                                    You are {timeData.currentAge.toFixed(1)} years old
                                </div>
                                <div className="text-gray-500">
                                    Every day is a gift
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<LifeTimeVisualizer />, document.getElementById('root'));
    </script>
</body>
</html>